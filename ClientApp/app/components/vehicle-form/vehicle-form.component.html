<h2>New Vehicle</h2>
<div class="container-fluid well newVehicle-container pull-left">
    <form #f="ngForm" (ngSubmit)="submit()">
        <div class="form-group my-form">
            <label for="make">Make</label>
            <select id="make" 
                    class="form-control" 
                    (change)="onMakeChange()" 
                    [(ngModel)]="vehicle.makeId" 
                    name="makeId" 
                    required 
                    #make="ngModel">
                <option value=""></option>
                <option *ngFor="let m of makes" value="{{ m.id }}">{{ m.name }}</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="make.touched && !make.valid">Please specifiy the Make</div>
        </div>
        <div class="form-group my-form">
            <label for="model">Model</label>
            <select id="model" 
                    class="form-control" 
                    [(ngModel)]="vehicle.modelId" 
                    name="modelId" 
                    required
                    #model="ngModel">
                <option value=""></option>
                <option *ngFor="let m of models" value="{{ m.id }}">{{ m.name }}</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="model.touched && !model.valid">Please specifiy the Model</div>
        </div>
        <p>Is this vehicle registered?</p>
        <label for="registered" class="radio-inline">
                <input type="radio" name="isRegistered" id="registered" [value]="true" [(ngModel)]="vehicle.isRegistered"> Yes
                </label>
        <label for="notRegistered" class="radio-inline">
                <input type="radio" name="isRegistered" id="notRegistered" [value]="false" [(ngModel)]="vehicle.isRegistered"> No
                </label>
        <h2>Features</h2>
        <div class="row">
            <div class="features-wrapper">
                <div *ngFor="let f of features" class="col-md-6">
                    <div class="checkbox">
                        <label for="feature{{ f.id }}">
                            <input type="checkbox" id="feature{{ f.id }}" (change)="onFeatureToggle(f.id, $event)" [checked]="vehicle.features.includes(f.id)"> {{ f.name }}
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <h2>Contact</h2>
        <div class="form-group my-form">
            <label for="contactName">Name</label>
            <input id="contactName" 
                type="text"
                placeholder="Enter Name" 
                class="form-control" 
                [(ngModel)]="vehicle.contact.name" 
                name="contactName" 
                required 
                #contact="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="contact.touched && !contact.valid">Please specifiy a Name</div> 
        </div>
        <div class="form-group my-form">
            <label for="contactPhone">Phone</label>
            <input id="contactPhone" 
                type="numbers" 
                placeholder="Enter Phone" 
                class="form-control" 
                [(ngModel)]="vehicle.contact.phone" 
                name="contactPhone" 
                required 
                #phone="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="phone.touched && !phone.valid">Please specifiy a contact phone</div> 
        </div>
        <div class="form-group my-form">
            <label for="contactEmail">Email</label>
            <input id="contactEmail" 
                type="email"
                placeholder="Enter Email"  
                class="form-control" 
                [(ngModel)]="vehicle.contact.email" 
                name="contactEmail" 
                required 
                #email="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="email.touched && !email.valid">Please specifiy a contact email</div> 
        </div>
         <h2>Additional Information</h2>
         <div class="form-group my-form">
            <label for="modelType">Model Type</label>
            <input id="modelType" 
                type="text"
                placeholder="Enter Model Type (e.g. 2.0 TDI)"  
                class="form-control" 
                [(ngModel)]="additionalInfo.modelType" 
                name="modelType" 
                required
                #modelType="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="modelType.touched && !modelType.valid">Please specifiy a model type</div>
         </div>
         <div class="form-group my-form">
              <label for="modelEngineType">Engine Type</label>
               <select id="modelEngineType" 
                    class="form-control"
                    [(ngModel)]="additionalInfo.modelEngineType" 
                    name="modelEngineType" 
                    required 
                    #modelEngineType="ngModel">
                <option value=""></option>
                <option value="Diesel">Diesel</option>
                <option value="Diesel">Petrol</option>
                <option value="Diesel">Petrol-Gas</option>
                <option value="Diesel">Gas</option>
                <option value="Diesel">Electrical</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="modelEngineType.touched && !modelEngineType.valid">Please specifiy Model Engine Type</div>
         </div>
         <div class="form-group my-form">
             <label for="yearOfManafacture">Year Of Manafacture</label>
             
              <select id="yearOfManafacture" 
                    class="form-control"
                    [(ngModel)]="additionalInfo.yearOfManafacture" 
                    name="yearOfManafacture" 
                    required 
                    #yearOfManafacture="ngModel">
                <option value=""></option>
                <option *ngFor="let y of years" value="{{ y }}">{{ y }}</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="yearOfManafacture.touched && !yearOfManafacture.valid">Please specifiy a year of manafacture</div> 
         </div>
         <div class="form-group my-form">
             <label for="firstRegistrationYear">First Year Of Registration</label>
             
              <select id="firstRegistrationYear" 
                    class="form-control"
                    [(ngModel)]="additionalInfo.firstRegistrationYear" 
                    name="firstRegistrationYear" 
                    required 
                    #firstRegistrationYear="ngModel">
                <option value=""></option>
                <option *ngFor="let y of years" value="{{ y }}">{{ y }}</option>
            </select>           
            <div class="alert alert-danger my-alert" *ngIf="firstRegistrationYear.touched && !firstRegistrationYear.valid">Please specifiy a First Year Of Registration</div>
         </div>
         <div class="form-group my-form">
            <label for="mileage">Mileage</label>
             <input id="mileage" 
                type="number"
                placeholder="Enter Mileage"  
                class="form-control"
                [(ngModel)]="additionalInfo.mileage"
                name="mileage"
                step="0.1"
                required
                #mileage="ngModel">
            <div class="alert alert-danger my-alert" 
                *ngIf="mileage.touched && !mileage.valid || mileage.touched && mileage.value == 0">
                Please specifiy car Mileage
                </div>
         </div>
         <div class="form-group my-form">
             <label for="modelEnginePower">Engine Power</label>
             <input id="modelEnginePower" 
                type="text"
                placeholder="Enter Model Engine Power"  
                class="form-control" 
                [(ngModel)]="additionalInfo.modelEnginePower" 
                name="modelEnginePower"
                step="0.1" 
                required
                #modelEnginePower="ngModel">
            <div class="alert alert-danger my-alert" 
                *ngIf="modelEnginePower.touched && !modelEnginePower.valid || modelEnginePower.touched && modelEnginePower.value == 0">
                Please specifiy Model Engine Power
                </div>
         </div>
         <div class="form-group my-form">
            <label for="gearType">Gear Type</label>
              <select id="gearType" 
                    class="form-control" 
                    [(ngModel)]="additionalInfo.gearType" 
                    name="gearType" 
                    required 
                    #gearType="ngModel">
                <option value=""></option>
                <option value="Manual">Manual</option>
                <option value="Automatic">Automatic</option>
                <option value="Manual - Automatic">Manual - Automatic</option>
                <option value="Semi-Automatic">Semi-Automatic</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="gearType.touched && !gearType.valid">Please specifiy Gear Type</div>
         </div>
         <div class="form-group my-form">
            <label for="noOfGears">Number of Gears</label>
              <select id="noOfGears" 
                    class="form-control" 
                    [(ngModel)]="additionalInfo.noOfGears" 
                    name="noOfGears" 
                    required 
                    #noOfGears="ngModel">
                <option value=""></option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="noOfGears.touched && !noOfGears.valid">Please specifiy Number of Gears</div>
         </div>
         <div class="form-group my-form">
             <label for="fuelConsumption">Fuel Consumption</label>
             <input id="fuelConsumption" 
                type="number"
                placeholder="Enter Fuel Consumption"  
                class="form-control" 
                [(ngModel)]="additionalInfo.fuelConsumption" 
                name="fuelConsumption"
                step="0.1"
                required
                #fuelConsumption="ngModel">
            <div class="alert alert-danger my-alert" 
                *ngIf="fuelConsumption.touched && !fuelConsumption.valid || fuelConsumption.touched && fuelConsumption.value == 0">
                Please specifiy Fuel Consumption
                </div>
         </div>
         <div class="form-group my-form">
            <label for="carState">Car State</label>
             <input id="carState" 
                type="text"
                placeholder="Enter Car State"  
                class="form-control" 
                [(ngModel)]="additionalInfo.carState" 
                name="carState" 
                required
                #carState="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="carState.touched && !carState.valid">Please specifiy Car State</div>
         </div>
         <div class="form-group my-form">
             <label for="carColor">Car Color</label>
             <input id="carColor" 
                type="text"
                placeholder="Enter Car Color"  
                class="form-control" 
                [(ngModel)]="additionalInfo.carColor" 
                name="carColor" 
                required
                #carColor="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="carColor.touched && !carColor.valid">Please specifiy Car Color</div>
         </div>
         <div class="form-group my-form">
            <label for="ownerNo">Owner Number?</label>
             <select id="ownerNo" 
                    class="form-control" 
                    [(ngModel)]="additionalInfo.ownerNo" 
                    name="ownerNo" 
                    required 
                    #ownerNo="ngModel">
                <option value=""></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
            <div class="alert alert-danger my-alert" *ngIf="ownerNo.touched && !ownerNo.valid">Please specifiy Owner Number?</div>
         </div>
         <div class="form-group my-form">
            <label for="carCurrentLocation">Car Current Location</label>
             <input id="carCurrentLocation" 
                type="text"
                placeholder="Enter Car Current Location"  
                class="form-control" 
                [(ngModel)]="additionalInfo.carCurrentLocation" 
                name="carCurrentLocation" 
                required
                #carCurrentLocation="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="carCurrentLocation.touched && !carCurrentLocation.valid">Please specifiy Car Current Location</div>
         </div>
         <div class="form-group my-form">
             <label for="carDescription">Car Description</label>
             <input id="carDescription" 
                type="text"
                placeholder="Enter Car Description"  
                class="form-control" 
                [(ngModel)]="additionalInfo.carDescription" 
                name="carDescription" 
                required
                #carDescription="ngModel">
            <div class="alert alert-danger my-alert" *ngIf="carDescription.touched && !carDescription.valid">Please specifiy Car Description</div>
        </div>
        <div class="buttons-wrapper">
            <button class="btn btn-primary" [disabled]="!f.valid">Save</button>
            <button *ngIf="vehicle.id" class="btn btn-danger" type="button" (click)="delete()">Delete</button>
            <button type="button" class="btn btn-default" (click)="goBack()">Cancel</button>
        </div> 
    </form>
</div>